{
  "$schema": "https://playground.wordpress.net/blueprint-schema.json",
  "landingPage": "/wp-admin/options-general.php?page=trust-badges",
  "preferredVersions": {
    "php": "8.0",
    "wp": "latest"
  },
  "phpExtensionBundles": ["kitchen-sink"],
  "features": {
    "networking": true
  },
  "steps": [
    {
      "step": "installPlugin",
      "pluginZipFile": {
        "resource": "wordpress.org/plugins",
        "slug": "woocommerce"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "installPlugin",
      "pluginZipFile": {
        "resource": "url",
        "url": "https://downloads.wordpress.org/plugin/trust-badges.zip"
      },
      "options": {
        "activate": true
      }
    },
    {
      "step": "setSiteOptions",
      "options": {
        "woocommerce_onboarding_profile": "a:1:{s:7:\"skipped\";b:1;}",
        "woocommerce_currency": "USD",
        "woocommerce_default_country": "US:CA",
        "woocommerce_store_address": "123 Trust Badge Street",
        "woocommerce_store_address_2": "Suite 100",
        "woocommerce_store_city": "San Francisco",
        "woocommerce_default_postcode": "94105",
        "woocommerce_store_postcode": "94105"
      }
    },
    {
      "step": "runPhpCode",
      "code": "<?php\n// Create sample products for demonstration\n$product1 = new WC_Product_Simple();\n$product1->set_name('Premium Trust Badge Plugin');\n$product1->set_description('A powerful plugin to boost customer trust and increase conversions with customizable trust badges.');\n$product1->set_short_description('Boost customer trust with customizable trust badges.');\n$product1->set_regular_price(49.99);\n$product1->set_manage_stock(true);\n$product1->set_stock_quantity(100);\n$product1->set_status('publish');\n$product1->save();\n\n$product2 = new WC_Product_Simple();\n$product2->set_name('Trust Badge Bundle');\n$product2->set_description('Complete bundle of trust badges including payment icons, security badges, and delivery guarantees.');\n$product2->set_short_description('Complete trust badge bundle for maximum conversion.');\n$product2->set_regular_price(99.99);\n$product2->set_manage_stock(true);\n$product2->set_stock_quantity(50);\n$product2->set_status('publish');\n$product2->save();\n\n$product3 = new WC_Product_Simple();\n$product3->set_name('Custom Badge Design Service');\n$product3->set_description('Professional custom badge design service for your unique trust signals.');\n$product3->set_short_description('Custom badge design service.');\n$product3->set_regular_price(199.99);\n$product3->set_manage_stock(true);\n$product3->set_stock_quantity(25);\n$product3->set_status('publish');\n$product3->save();\n\n// Create sample pages\n$shop_page = get_page_by_path('shop');\nif (!$shop_page) {\n    wp_insert_post(array(\n        'post_title' => 'Shop',\n        'post_name' => 'shop',\n        'post_status' => 'publish',\n        'post_type' => 'page',\n        'post_content' => 'Welcome to our shop! Browse our selection of trust badge products.'\n    ));\n}\n\n// Set up WooCommerce pages\nupdate_option('woocommerce_shop_page_id', get_page_by_path('shop')->ID);\nupdate_option('woocommerce_cart_page_id', get_page_by_path('cart')->ID);\nupdate_option('woocommerce_checkout_page_id', get_page_by_path('checkout')->ID);\nupdate_option('woocommerce_myaccount_page_id', get_page_by_path('my-account')->ID);\n\n// Configure Trust Badges with sample data\n$trust_badges_settings = array(\n    'product_page' => array(\n        'id' => 'product_page',\n        'name' => 'Product Page',\n        'isDefault' => true,\n        'isActive' => true,\n        'settings' => array(\n            'showHeader' => true,\n            'headerText' => 'Secure Payment Methods',\n            'fontSize' => '18',\n            'alignment' => 'left',\n            'badgeAlignment' => 'left',\n            'position' => 'center',\n            'textColor' => '#000000',\n            'badgeStyle' => 'original',\n            'badgeSizeDesktop' => 'medium',\n            'badgeSizeMobile' => 'small',\n            'badgeColor' => '#0066FF',\n            'customMargin' => false,\n            'marginTop' => '0',\n            'marginBottom' => '0',\n            'marginLeft' => '0',\n            'marginRight' => '0',\n            'animation' => 'fade',\n            'selectedBadges' => array('amazonpay2color', 'applepaycolor', 'google-pay', 'paypal-color', 'visa-color'),\n            'showAfterAddToCart' => true,\n            'eddPurchaseLinkEnd' => false\n        ),\n        'requiredPlugin' => 'woocommerce'\n    ),\n    'footer' => array(\n        'id' => 'footer',\n        'name' => 'Footer',\n        'isDefault' => true,\n        'isActive' => true,\n        'settings' => array(\n            'showHeader' => true,\n            'headerText' => 'Payment Options',\n            'fontSize' => '16',\n            'alignment' => 'center',\n            'badgeAlignment' => 'center',\n            'position' => 'center',\n            'textColor' => '#333333',\n            'badgeStyle' => 'original',\n            'badgeSizeDesktop' => 'small',\n            'badgeSizeMobile' => 'small',\n            'badgeColor' => '#0066FF',\n            'customMargin' => false,\n            'marginTop' => '10',\n            'marginBottom' => '10',\n            'marginLeft' => '0',\n            'marginRight' => '0',\n            'animation' => 'fade',\n            'selectedBadges' => array('ssl-secure', 'money-back-guarantee', 'free-shipping', 'customer-support'),\n            'showAfterAddToCart' => false,\n            'eddPurchaseLinkEnd' => false\n        ),\n        'requiredPlugin' => null\n    ),\n    'cart' => array(\n        'id' => 'cart',\n        'name' => 'Cart Page',\n        'isDefault' => true,\n        'isActive' => true,\n        'settings' => array(\n            'showHeader' => true,\n            'headerText' => 'Secure Checkout',\n            'fontSize' => '16',\n            'alignment' => 'left',\n            'badgeAlignment' => 'left',\n            'position' => 'center',\n            'textColor' => '#000000',\n            'badgeStyle' => 'original',\n            'badgeSizeDesktop' => 'medium',\n            'badgeSizeMobile' => 'small',\n            'badgeColor' => '#0066FF',\n            'customMargin' => false,\n            'marginTop' => '0',\n            'marginBottom' => '0',\n            'marginLeft' => '0',\n            'marginRight' => '0',\n            'animation' => 'fade',\n            'selectedBadges' => array('amazonpay2color', 'applepaycolor', 'google-pay', 'stripe-color'),\n            'woocommerce_cart_collaterals' => true,\n            'woocommerce_before_cart' => false\n        ),\n        'requiredPlugin' => 'woocommerce'\n    )\n);\n\n// Save Trust Badges settings to database\nforeach ($trust_badges_settings as $group) {\n    global $wpdb;\n    $table_name = $wpdb->prefix . 'converswp_trust_badges';\n    \n    $wpdb->replace(\n        $table_name,\n        array(\n            'group_id' => $group['id'],\n            'group_name' => $group['name'],\n            'is_default' => $group['isDefault'],\n            'is_active' => $group['isActive'],\n            'settings' => wp_json_encode($group['settings']),\n            'required_plugin' => $group['requiredPlugin'],\n            'created_at' => current_time('mysql'),\n            'updated_at' => current_time('mysql')\n        ),\n        array('%s', '%s', '%d', '%d', '%s', '%s', '%s', '%s')\n    );\n}\n\n// Clear any caches\nwp_cache_flush();\n?>"
    },
    {
      "step": "login",
      "username": "admin",
      "password": "password"
    }
  ]
}
